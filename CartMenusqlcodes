
		
	// Functions to Implement
	
	private void displayCart() {

		tMain.setText("Display Cart Items\n");

		Connection conn = null;

		try {
			conn = DriverManager.getConnection(url, user, password);

	        System.out.println("Connection to database established.");

	        PreparedStatement stmt;                

	        stmt = conn.prepareStatement( " SELECT p.pname as name, c.num as qty, pp.price as price"

	        		+ "	FROM Product p"

	        		+ "INNER JOIN Cart c"

	        		+ "on p.pid= c.pid"

	        		+ "INNER JOIN ProductPricing pp"

	        		+ "on p.pid = pp.productid"

	        		+ " where customerid=?");      

	        stmt.setString(1,cid);

	        ResultSet rs=stmt.executeQuery();

	        getProductData(rs);

//function to calculate total amount


with a(id, price) as (select pid, price
                      from productpricing
                      where pid = ? and customerid=?),
      b(id, qty) as (select pid, qty
                     from cart
                     where pid = ? and customerid =?)
 select sum(*)
 from (select price*qty
       from a join b);
	    	        while(rs.next()){

	        	String result="";

	        	String pName = rs.getString("name");

	        	int pQty = rs.getInt("qty");

	        	Double price = rs.getDouble("price");

	        	result = result + pName + Integer.toString(pQty) + Double.toString(price);

	        	tMain.append(result);

	        	System.out.println(result);

	       }

		}catch(Exception e) {

			e.printStackTrace();

		}

	}


	
	
